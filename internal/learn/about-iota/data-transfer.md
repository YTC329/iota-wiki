---
title: Data Transfer
description: A major use-case for the IOTA Technology is Data Transfer. Learn how it works.
---

# 數據傳輸

IOTA 提供免費傳輸數據的能力。數據傳輸快速、不可變、不可偽造且安全，是 IOTA 的核心功能之一。這種能力開闢了大多數其他加密貨幣無法做到，但IOTA卻能做到的廣泛用途。

客戶端，可以是錢包或應用程序，通過 IOTA 中的節點發送和接收訊息（數據對象）。節點是這些訊息的入口和出口點，這些節點相互通信並與連接的客戶端通信。

IOTA 中實現了幾種類型的訊息。有些訊息傳遞價值（IOTA 代幣或數字資產），而另一些只傳遞純數據，有些訊息類型甚至可以同時包含價值和數據。這種靈活的訊息結構可以在具有最高安全等級且完全不收費的單個訊息中實現數據和價值的分散傳輸。網絡節點負責糾纏中所有這些訊息的安全分發。

## 數據使用

許多應用程序和用例可以從這種免費、安全、快速的數據和價值傳輸的組合中獲益，這在許多主要行業都有需求。閱讀有關 [IOTA 數據用例] (https://www.iota.org/solutions/industries).

## 什麼是 IOTA 訊息？?

訊息是由糾纏中廣播的信息組成的物件。

每個使用該協議的應用程序都可以將這些信息對象發布給節點。 Iota 節點的工作是驗證傳入訊息並通過網絡廣播它們，如果它們被認為是有效的並遵循協議的標準規範。

如果一個節點確定一條訊息是有效的，它將使用 gossip 協議將它發送給它的直接鄰居。每個收到訊息的鄰居都會將其再次傳輸給它的鄰居，依此類推。很快，網絡中的每個其他節點都會看到該訊息，並且在給定時間對網路的“狀態”具有相同的信息和相同的知識。

訊息由定義訊息類型和結構的基本信息組成，還可以包含不同的**有效負載**。有效負載是一個附件，可以包含 IOTA 交易和許多其他類型的數據。


IOTA 協議將這些信息包分類為不同的類型，並以不同於其他類型的方式處理某些類型。因此，發送到網絡的每條訊息都必須包含一個唯一的標籤作為標識符，用於描述此訊息是什麼以及應該如何處理它。只有正確地陳述了此信息，節點才會接受並處理訊息。此協議級別的更詳細描述可以在[TIP-0006 (Tangle Message)](https://github.com/iotaledger/tips/blob/main/tips/TIP-0006/tip-0006.md)找到

## 在 IOTA 中發送訊息

所謂的客戶端創建訊息。這些客戶端可以是 IOTA 錢包或任何其他生成 IOTA 訊息的應用程序。客戶端將這些訊息發送到 IOTA 節點以進行處理。

為了確保訊息有效並且節點知道如何處理該訊息，客戶端創建的訊息標籤必須提供幾條信息供節點處理並進入網絡。

**訊息 ID**

訊息ID創建為訊息中包含的字節的唯一加密哈希。它由發出訊息的客戶端（應用程序）或錢包創建。

**網路 ID**

訊息所屬的 IOTA 網絡（主網/測試網/私有網絡）的標識 - 節點將僅接受將自己標識為節點所屬網絡的訊息。

**父級長度和父級ID**

這是新訊息引用的訊息的數量和標識符。為了構建 Tangle 的圖結構，Tangle 中的每條新訊息都必須引用 2 - 8 條之前的訊息。節點選擇這兩條訊息並將 ID 發送給客戶端，客戶端必須將此信息包含在訊息“標籤”中。因此，節點確保 Tangle 的數據結構按照協議中的規定進行演變。

**有效負載長度**

因為 IOTA 中的訊息不允許超過 32kb 的大小，所以訊息必須向節點聲明其有效負載的大小......就像如果你想用快遞發送包裹，你需要事先報告包裹的重量。

**有效負載類別**

定義哪種類型的有效負載是訊息的一部分。節點需要知道這一點，因為某些有效負載類型的處理方式與其他類型不同。

**隨機數**

就是隨機數讓這個訊息滿足PoW的需求。PoW主要在發出訊息的設備上本地完成，是一種垃圾郵件保護形式。但是如果節點允許，PoW 可以由節點而不是客戶端來完成。這是一個方便的功能，因為它使功率非常低的設備能夠發布訊息（如傳感器、芯片等），而無需在本地設備中執行 PoW。如果連接到允許遠程 PoW 的節點，這些低功耗設備可以發送訊息，並且節點（通常在更強大的設備上運行）為它們執行 PoW。這也是 IOTA 如此適合物聯網和數據應用的原因之一。計劃從大量極低功耗設備發出許多數據訊息的用戶只需將這些設備連接到允許他們為它們執行 PoW 的節點（在大多數情況下，這將是他們自己的節點）。由於IOTA中的PoW要求一般都非常低，即使是大量設備也可以透過一個節點做到。

附註 - 在即將到來的 2.0 IOTA 版本中，此 PoW 要求將變得調適，並計劃在正常網絡負載時完全刪除...閱讀有關 [IOTA 2.0](/build/networks/iota-2.0).

## 訊息結構

這是 IOTA 協議中每條消息的定義語法結構（我們組件的標籤）：

<table>
    <tr>
        <th>名稱</th>
        <th>類別</th>
        <th>描述</th>
    </tr>
    <tr>
        <td>網路ID</td>
        <td>uint64</td>
        <td>網絡標識符。此字段將表示此訊息是用於主網、測試網還是專用網。它還說明了適用於訊息的協議規則。它是網絡類型和協議版本字符串串聯的“BLAKE2b-256”哈希的前 8 個字節。</td>
        </tr>
    <tr>
        <td> 父項長度 </td>
        <td> uint8</td>
        <td> 我們直接批准的訊息數量。可以是 1-8 之間的任何值。</td>
    </tr>
    <tr>
        <td>父項 </td>
        <td>ByteArray[32 * `父項長度`]</td>
        <td>引用的訊息 ID。</td>
    </tr>
    <tr>
        <td>有效載荷長度</td>
        <td>uint32</td>
        <td> 有效載荷的長度。由於節點可能不知道其類型，因此必須提前聲明。 0 長度意味著不會附加任何有效負載。</td>
    </tr>
    <tr>
        <td colspan="1">
            有效載荷
        </td>
        <td colspan="2">
            <details open="true">
                <summary>通用有效載荷</summary>
                <blockquote>
                一般有效載荷的概述
                </blockquote>
                <table>
                    <tr>
                        <th>名稱</th>
                        <th>種類</th>
                        <th>描述</th>
                    </tr>
                    <tr>
                        <td>有效載荷類型</td>
                        <td>uint32</td>
                        <td>
                            有效負載的類型。它將指示節點如何解析後面的欄位。
                        </td>
                    </tr>
                    <tr>
                        <td>資料欄位</td>
                        <td>任何</td>
                        <td>欄位序列，其中結構取決於<code>有效負載類型</code>.</td>
                    </tr>
                </table>
            </details>
        </td>
    </tr>
    <tr>
        <td>隨機數</td>
        <td>uint64</td>
        <td>此隨機數讓訊息滿足PoW的要求。</td>
    </tr>
</table>

所有這些信息必須由客戶端（錢包軟件或其他生成 IOTA 訊息的程序）創建，以向節點發出訊息並確保節點知道如何處理該訊息。

### 訊息驗證

如果滿足以下句法規則，則認為消息有效：

1. 訊息大小不得超過 32 KiB（32 \* 1024 字節）。
2. 分析消息的語法結構（解析）不會留下任何未知位 - 這意味著節點完全可以讀取所有訊息信息......不可讀的信息可能包含惡意代碼，因此被拒絕。
3. 如果有效載荷類型為節點所知。
4. 如果 Message PoW Hash 表明網絡或節點請求的 PoW 的最低要求已經滿足。
5. 父訊息的數量必須在 1-8 之間。

只有當這些參數滿足並且節點可讀時，訊息才會被接受處理。

### 有效載荷

訊息可能包含有效負載。目前在主網中定義了三種有效負載類型，但開發人員可以創建他們的自定義有效負載並將它們附加到訊息中，只要它們符合一般要求。這意味著 IOTA 訊息可以包含多種類型的消息，而作為交易有效負載的 IOTA 令牌只是眾多信息之一。下面是當前指定的核心有效負載的表格，並附有其規格的鏈接。

| 有效載荷名稱                                                                                                 | 類型值 |
| --------------------------------------------------------------------------------------------------------------- | ---------- |
| [交易有效負載](https://github.com/iotaledger/tips/blob/main/tips/TIP-0007/tip-0007.md)                   | 0          |
| [里程碑有效載荷](https://github.com/iotaledger/tips/blob/main/tips/TIP-0008/tip-0008.md)                     | 1          |
| [索引有效負載](https://github.com/iotaledger/tips/blob/main/tips/TIP-0006/tip-0006.md#indexation-payload) | 2          |

僅包含**索引有效負載**（數據）的訊息可以在沒有簽名的情況下發送。它可以保存用戶想要發送的任何數據，只要它是可解析的並遵循所需的語法和大小限制。

該訊息由**索引** 指定，這將使任何用戶都可以通過在網絡上搜索該索引來找到該消息及其包含的數據。

您可能已經認識到，IOTA 網絡中的訊息不需要特定的接收者。網絡中的所有訊息都傳播到所有節點，並且對每個網絡用戶都是可見的。此外，看到訊息的每個人都可以看到數據有效負載（如果未由發件人加密）。如果您想使用 IOTA 協議發送僅對選定的一組接收者可見的數據訊息，IOTA Streams 框架正是為此目的而構建的。它將啟用一個直接通往接收者的網關，並對來自網絡中其他所有人的信息進行加密。

每個知道該訊息索引的人都可以輕鬆找到定義為索引有效負載的**數據訊息**。如果你想發送任意消息或敏感數據，你需要告訴接收者你正在使用哪個索引。他可以使用資源管理器觀察網絡中包含該索引的所有訊息。

在**價值交易**中，支付接收方 - IOTA 地址 - 將在“簽名交易有效負載”字段中指定。然後，只有該特定地址的所有者可以通過使用屬於該接收地址的私鑰解鎖來使用包含的資金。在此處閱讀有關如何在 IOTA 中發送價值交易的更多信息：[價值轉移](/learn/about-iota/value-transfer)

隨著 IOTA 協議的不斷改進，已經開發了一種新的有效載荷規範，以顯著擴展訊息和有效載荷的功能。 請閱讀 [IOTA 代幣化框架](https://blog.iota.org/iota-tokenization-framework-specifications/) 規格。

這些更改將在 IOTA 主網的下一次更新中進行密集測試後實施。
